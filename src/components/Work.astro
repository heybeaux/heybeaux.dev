---
// Work section - Project cards

interface Project {
  name: string;
  slug: string;
  role: string;
  description: string;
  tech?: string[];
  externalLink?: string;
  status?: 'active' | 'completed';
}

const projects: Project[] = [
  {
    name: "Generosity Catalyst",
    slug: "generosity-catalyst",
    role: "CTO",
    description: "Lightweight CRM built for nonprofits who want real donor relationships, not automation funnels. Guided touchpoints prompt staff to reach out at the right moments — birthdays, anniversaries, follow-ups. I own the full stack: architecture, infrastructure, and shipping features. Anti-AI-slop by design.",
    tech: ["Next.js", "Supabase", "Stripe"],
    externalLink: "https://generositycatalyst.com",
    status: "active"
  },
  {
    name: "WhaleHawk",
    slug: "whalehawk",
    role: "Full-Stack Developer",
    description: "Sales intelligence platform for healthcare. AI-powered research tools that help medical device sales teams find the right prospects faster. I work across the landing site, web app, and own the Salesforce integration.",
    tech: ["Apex", "LWC", "React"],
    externalLink: "https://whalehawk.com",
    status: "active"
  },
  {
    name: "Wilderness Committee",
    slug: "wilderness-committee",
    role: "Digital Fundraising Coordinator",
    description: "Hired into a new role mid-Salesforce migration. Ended up owning Salesforce admin, dev, and automation — plus Shopify, Pardot, and FormAssembly. Worked closely with donor relations to improve retention: 40% fewer lost monthly donors over 2 years. Built a formal data management plan that still guides the org today.",
    tech: ["Salesforce", "Pardot", "Shopify", "FormAssembly", "Apsona"],
    externalLink: "https://wildernesscommittee.org",
    status: "completed"
  },
  {
    name: "Run As You Are",
    slug: "run-as-you-are",
    role: "Project Coordinator",
    description: "Helped rebrand Vancouver Running Company into a global run membership powered by NFTs. Coordinated brand activations at On's NYC flagship during NFT.NYC and a Vancouver event with custom RFID-tagged shoes that triggered NFT animations on scan. Also shipped frontend work.",
    tech: ["NFT/Web3", "RFID", "POAP", "Frontend"],
    externalLink: "https://runasyouare.co",
    status: "completed"
  },
  {
    name: "Kardio",
    slug: "kardio",
    role: "Director of Product & Development",
    description: "Gamified heart health app with pixel-art style and deep progression systems. Started as PM, grew into leading dev and product. Cut deployment time from weeks to under 10 minutes via TestFlight by building out proper test suites and CI automation. Shipped to the App Store.",
    tech: ["React Native", "D3", "TestFlight", "CI/CD"],
    externalLink: "https://kardioactive.com",
    status: "completed"
  }
];
---

<section id="work" class="mb-16">
  <h2 class="text-sm font-mono text-[var(--color-accent)] mb-6 uppercase tracking-wider">
    Work
  </h2>
  
  <div class="grid gap-4">
    {projects.map((project) => (
      <article class="card p-6 group">
        <div class="flex flex-wrap items-start justify-between gap-2 mb-3">
          <div class="flex items-center gap-3">
            {project.externalLink ? (
              <a href={project.externalLink} target="_blank" rel="noopener noreferrer" class="text-lg font-semibold group-hover:text-[var(--color-accent)] transition-colors flex items-center gap-2">
                {project.name}
                <svg class="w-4 h-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                </svg>
              </a>
            ) : (
              <h3 class="text-lg font-semibold group-hover:text-[var(--color-accent)] transition-colors">
                {project.name}
              </h3>
            )}
            {project.status === 'active' && (
              <span class="tag">Active</span>
            )}
          </div>
          <span class="text-sm text-[var(--color-muted)] font-mono">
            {project.role}
          </span>
        </div>
        
        <p class="text-[var(--color-muted)] mb-4">
          {project.description}
        </p>
        
        <div class="flex flex-wrap items-center justify-between gap-4">
          {project.tech && (
            <div class="flex flex-wrap gap-2">
              {project.tech.map((t) => (
                <span class="text-xs font-mono text-[var(--color-muted)] bg-[var(--color-bg)] px-2 py-1 rounded border border-[var(--color-border)]">
                  {t}
                </span>
              ))}
            </div>
          )}
          <a href={`/work/${project.slug}`} class="text-sm font-mono text-[var(--color-accent)] hover:underline">
            Read more →
          </a>
        </div>
      </article>
    ))}
  </div>
</section>

<div class="section-divider"></div>
